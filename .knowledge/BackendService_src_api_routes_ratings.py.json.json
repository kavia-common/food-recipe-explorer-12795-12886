{"is_source_file": true, "format": "Python", "description": "This file defines API routes for handling ratings in a FastAPI web service, including creating and listing ratings for specific food items.", "external_files": ["../schemas/rating", "../repositories/memory_repo", "../services/ratings_service", "../core/dependencies", "../core/security"], "external_methods": ["fastapi.APIRouter", "Depends", "status.HTTP_201_CREATED", "RatingsService.add_rating", "RatingsService.list_for_item", "get_required_user"], "published": ["router", "create_rating", "list_item_ratings"], "classes": [{"name": "APIRouter", "description": "FastAPI router object for defining API endpoints"}, {"name": "RatingCreate", "description": "Schema for creating a new rating"}, {"name": "RatingOut", "description": "Schema for outputting rating data"}, {"name": "InMemoryRepository", "description": "In-memory repository class for data storage"}, {"name": "RatingsService", "description": "Service class for handling rating business logic"}, {"name": "AuthUser", "description": "User model with authentication info"}], "methods": [{"name": "RatingsService get_service(repo: InMemoryRepository = Depends(lambda: InMemoryRepository()))", "description": "Dependency function to inject RatingsService with an in-memory repository", "scope": "", "scopeKind": ""}, {"name": "create_rating( payload: RatingCreate, service: RatingsService = Depends(get_service), user: AuthUser = Depends(get_required_user), )", "description": "Endpoint to create a new rating, requires authentication", "scope": "", "scopeKind": ""}, {"name": "list_item_ratings( item_id: str, service: RatingsService = Depends(get_service), _: AuthUser = Depends(get_required_user), )", "description": "Endpoint to list ratings for a specific item, requires authentication", "scope": "", "scopeKind": ""}], "calls": ["Depends", "RatingsService.add_rating", "RatingsService.list_for_item", "get_required_user"], "search-terms": ["create_rating", "list_item_ratings", "APIRouter", "ratings"], "state": 2, "file_id": 16, "knowledge_revision": 46, "git_revision": "", "revision_history": [{"34": ""}, {"46": ""}], "ctags": [{"_type": "tag", "name": "create_rating", "path": "/home/kavia/workspace/code-generation/food-recipe-explorer-12795-12886/BackendService/src/api/routes/ratings.py", "pattern": "/^async def create_rating($/", "language": "Python", "kind": "function", "signature": "( payload: RatingCreate, service: RatingsService = Depends(get_service), user: AuthUser = Depends(get_required_user), )"}, {"_type": "tag", "name": "get_service", "path": "/home/kavia/workspace/code-generation/food-recipe-explorer-12795-12886/BackendService/src/api/routes/ratings.py", "pattern": "/^def get_service(repo: InMemoryRepository = Depends(lambda: InMemoryRepository())) -> RatingsServ/", "language": "Python", "typeref": "typename:RatingsService", "kind": "function", "signature": "(repo: InMemoryRepository = Depends(lambda: InMemoryRepository()))"}, {"_type": "tag", "name": "list_item_ratings", "path": "/home/kavia/workspace/code-generation/food-recipe-explorer-12795-12886/BackendService/src/api/routes/ratings.py", "pattern": "/^async def list_item_ratings($/", "language": "Python", "kind": "function", "signature": "( item_id: str, service: RatingsService = Depends(get_service), _: AuthUser = Depends(get_required_user), )"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/food-recipe-explorer-12795-12886/BackendService/src/api/routes/ratings.py", "pattern": "/^router = APIRouter()$/", "language": "Python", "kind": "variable"}], "hash": "d1b04774e790911906f483df2188f34b", "format-version": 4, "code-base-name": "BackendService", "filename": "BackendService/src/api/routes/ratings.py", "fields": [{"name": "router = APIRouter()", "scope": "", "scopeKind": "", "description": "unavailable"}]}